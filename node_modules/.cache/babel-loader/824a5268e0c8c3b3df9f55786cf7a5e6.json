{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _events = require('./helpers/events');\n\nvar _find = require('./helpers/find');\n\nvar _find2 = _interopRequireDefault(_find);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar stickyOwnProps = ['mode', 'disabled', 'onFixedToggle', 'stickyStyle', 'stickyClassName', 'boundaryElement', 'scrollElement', 'bottomOffset', 'topOffset', 'positionRecheckInterval', 'noExceptionOnMissedScrollElement', 'wrapperCmp', 'holderCmp', 'hideOnBoundaryHit', 'holderProps'];\n\nvar isEqual = function isEqual(obj1, obj2) {\n  var styles1 = obj1.styles;\n  var styles2 = obj2.styles;\n\n  if (obj1.fixed !== obj2.fixed || obj1.height !== obj2.height || !styles1 && styles2 || styles1 && !styles2) {\n    return false;\n  }\n\n  for (var field in styles1) {\n    if (styles1.hasOwnProperty(field) && styles1[field] !== styles2[field]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar buildTopStyles = function buildTopStyles(container, props) {\n  var bottomOffset = props.bottomOffset,\n      hideOnBoundaryHit = props.hideOnBoundaryHit;\n  var top = container.top,\n      height = container.height,\n      width = container.width,\n      boundaryBottom = container.boundaryBottom;\n\n  if (hideOnBoundaryHit || top + height + bottomOffset < boundaryBottom) {\n    return {\n      top: top,\n      width: width,\n      position: 'fixed'\n    };\n  }\n\n  return {\n    width: width,\n    bottom: bottomOffset,\n    position: 'absolute'\n  };\n};\n\nvar buildBottomStyles = function buildBottomStyles(container, props) {\n  var bottomOffset = props.bottomOffset,\n      hideOnBoundaryHit = props.hideOnBoundaryHit;\n  var bottom = container.bottom,\n      height = container.height,\n      width = container.width,\n      boundaryTop = container.boundaryTop;\n\n  if (hideOnBoundaryHit || bottom - height - bottomOffset > boundaryTop) {\n    return {\n      width: width,\n      top: bottom - height,\n      position: 'fixed'\n    };\n  }\n\n  return {\n    width: width,\n    top: bottomOffset,\n    position: 'absolute'\n  };\n};\n\nvar buildStickyStyle = function buildStickyStyle(mode, props, container) {\n  return (mode === 'top' ? buildTopStyles : buildBottomStyles)(container, props);\n};\n\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky(props) {\n    _classCallCheck(this, Sticky);\n\n    var _this = _possibleConstructorReturn(this, (Sticky.__proto__ || Object.getPrototypeOf(Sticky)).call(this, props));\n\n    _this.createWrapperRef = function (wrapper) {\n      _this.wrapperEl = wrapper;\n    };\n\n    _this.createHolderRef = function (holder) {\n      _this.holderEl = holder;\n    };\n\n    _this.checkPosition = function () {\n      var holderEl = _this.holderEl,\n          wrapperEl = _this.wrapperEl,\n          boundaryElement = _this.boundaryElement,\n          scrollElement = _this.scrollElement,\n          disabled = _this.disabled;\n      var _this$props = _this.props,\n          mode = _this$props.mode,\n          onFixedToggle = _this$props.onFixedToggle;\n\n      if (disabled) {\n        if (_this.state.fixed) {\n          _this.setState({\n            fixed: false\n          });\n        }\n\n        return;\n      }\n\n      var holderRect = holderEl.getBoundingClientRect();\n      var wrapperRect = wrapperEl.getBoundingClientRect();\n      var boundaryRect = boundaryElement ? getRect(boundaryElement) : {\n        top: -Infinity,\n        bottom: Infinity\n      };\n      var scrollRect = getRect(scrollElement);\n\n      var fixed = _this.isFixed(holderRect, wrapperRect, boundaryRect, scrollRect);\n\n      var newState = {\n        fixed: fixed,\n        height: wrapperRect.height,\n        styles: fixed ? buildStickyStyle(mode, _this.props, {\n          boundaryTop: mode === 'bottom' ? boundaryRect.top : 0,\n          boundaryBottom: mode === 'top' ? boundaryRect.bottom : 0,\n          top: mode === 'top' ? scrollRect.top : 0,\n          bottom: mode === 'bottom' ? scrollRect.bottom : 0,\n          width: holderRect.width,\n          height: wrapperRect.height\n        }) : null\n      };\n\n      if (fixed !== _this.state.fixed && onFixedToggle && typeof onFixedToggle === 'function') {\n        onFixedToggle(_this.state.fixed);\n      }\n\n      if (!isEqual(_this.state, newState)) {\n        _this.setState(newState);\n      }\n    };\n\n    _this.disabled = props.disabled;\n    _this.state = {\n      height: 0,\n      fixed: false,\n      styles: null\n    };\n    return _this;\n  }\n\n  _createClass(Sticky, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var me = _reactDom2.default.findDOMNode(this);\n\n      var _props = this.props,\n          boundaryElement = _props.boundaryElement,\n          scrollElement = _props.scrollElement,\n          noExceptionOnMissedScrollElement = _props.noExceptionOnMissedScrollElement,\n          positionRecheckInterval = _props.positionRecheckInterval,\n          disabled = _props.disabled;\n      this.disabled = disabled;\n      this.boundaryElement = (0, _find2.default)(boundaryElement, me);\n\n      if (this.boundaryElement === window || this.boundaryElement === document) {\n        // such objects can't be used as boundary\n        // and in fact there is no point in such a case\n        this.boundaryElement = null;\n      }\n\n      this.scrollElement = scrollElement;\n\n      if (typeof scrollElement === 'string') {\n        this.scrollElement = (0, _find2.default)(scrollElement, me);\n      }\n\n      if (this.scrollElement) {\n        (0, _events.listen)(this.scrollElement, ['scroll'], this.checkPosition);\n      } else if (!noExceptionOnMissedScrollElement) {\n        throw new Error('Cannot find scrollElement ' + scrollElement);\n      }\n\n      (0, _events.listen)(window, ['scroll', 'resize', 'pageshow', 'load'], this.checkPosition);\n      this.checkPosition();\n\n      if (positionRecheckInterval) {\n        this.checkPositionIntervalId = setInterval(this.checkPosition, positionRecheckInterval);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var disabled = _ref.disabled;\n\n      if (this.disabled !== disabled) {\n        this.disabled = disabled;\n        this.checkPosition();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.scrollElement) {\n        (0, _events.unlisten)(this.scrollElement, ['scroll'], this.checkPosition);\n      }\n\n      (0, _events.unlisten)(window, ['scroll', 'resize', 'pageshow', 'load'], this.checkPosition);\n      this.boundaryElement = null;\n      this.scrollElement = null;\n      clearTimeout(this.checkPositionIntervalId);\n    }\n  }, {\n    key: 'isFixed',\n    value: function isFixed(holderRect, wrapperRect, boundaryRect, scrollRect) {\n      var _props2 = this.props,\n          hideOnBoundaryHit = _props2.hideOnBoundaryHit,\n          bottomOffset = _props2.bottomOffset,\n          topOffset = _props2.topOffset,\n          mode = _props2.mode;\n\n      if (this.disabled) {\n        return false;\n      }\n\n      if (boundaryRect && !instersect(boundaryRect, scrollRect, topOffset, bottomOffset)) {\n        return false;\n      }\n\n      var hideOffset = hideOnBoundaryHit ? wrapperRect.height + bottomOffset : 0;\n\n      if (mode === 'top') {\n        return holderRect.top + topOffset < scrollRect.top && scrollRect.top + hideOffset <= boundaryRect.bottom;\n      }\n\n      return holderRect.bottom - topOffset > scrollRect.bottom && scrollRect.bottom - hideOffset >= boundaryRect.top;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var _state = this.state,\n          fixed = _state.fixed,\n          height = _state.height;\n      var stickyClassName = props.stickyClassName,\n          stickyStyle = props.stickyStyle,\n          holderCmp = props.holderCmp,\n          wrapperCmp = props.wrapperCmp,\n          holderProps = props.holderProps,\n          children = props.children;\n      var wrapperProps = sanitizeProps(props, stickyOwnProps); // To ensure that this component becomes sticky immediately on mobile devices instead\n      // of disappearing until the scroll event completes, we add `transform: translateZ(0)`\n      // to 'kick' rendering of this element to the GPU\n      // @see http://stackoverflow.com/questions/32875046\n\n      var wrapperStyle = {\n        transform: 'translateZ(0)',\n        WebkitTransform: 'translateZ(0)'\n      };\n\n      if (wrapperProps.style) {\n        wrapperStyle = _extends({}, wrapperStyle, wrapperProps.style);\n      }\n\n      if (fixed) {\n        wrapperProps.className += ' ' + stickyClassName;\n        wrapperStyle = _extends({}, wrapperStyle, stickyStyle, this.state.styles);\n      }\n\n      holderProps.style = _extends({}, holderProps.style, {\n        minHeight: height + 'px'\n      });\n      holderProps.ref = this.createHolderRef;\n      wrapperProps.style = wrapperStyle;\n      wrapperProps.ref = this.createWrapperRef;\n      return _react2.default.createElement(holderCmp, holderProps, _react2.default.createElement(wrapperCmp, wrapperProps, children));\n    }\n  }]);\n\n  return Sticky;\n}(_react.Component); // some helpers\n\n\nSticky.propTypes = {\n  mode: _propTypes2.default.oneOf(['top', 'bottom']),\n  onFixedToggle: _propTypes2.default.func,\n  stickyStyle: _propTypes2.default.object,\n  stickyClassName: _propTypes2.default.string,\n  hideOnBoundaryHit: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  boundaryElement: _propTypes2.default.string,\n  scrollElement: _propTypes2.default.any,\n  bottomOffset: _propTypes2.default.number,\n  topOffset: _propTypes2.default.number,\n  positionRecheckInterval: _propTypes2.default.number,\n  noExceptionOnMissedScrollElement: _propTypes2.default.bool,\n  wrapperCmp: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  holderCmp: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  holderProps: _propTypes2.default.object\n};\nSticky.defaultProps = {\n  className: '',\n  style: {},\n  mode: 'top',\n  holderCmp: 'div',\n  holderProps: {},\n  wrapperCmp: 'div',\n  stickyClassName: 'sticky',\n  stickyStyle: null,\n  hideOnBoundaryHit: true,\n  disabled: false,\n  boundaryElement: null,\n  scrollElement: 'window',\n  topOffset: 0,\n  bottomOffset: 0,\n  noExceptionOnMissedScrollElement: false,\n  positionRecheckInterval: 0\n};\nexports.default = Sticky;\n\nfunction getRect(el) {\n  if (el && typeof el.getBoundingClientRect === 'function') {\n    return el.getBoundingClientRect();\n  }\n\n  if (el === window || el === document) {\n    return {\n      top: 0,\n      left: 0,\n      bottom: window.innerHeight,\n      height: window.innerHeight,\n      width: window.innerWidth,\n      right: window.innerWidth\n    };\n  }\n\n  return {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    width: 0,\n    height: 0\n  };\n}\n\nfunction instersect(r1, r2, topOffset, bottomOffset) {\n  var r1Top = r1.top + topOffset,\n      r1Bottom = r1.bottom + bottomOffset;\n  return r1Top >= r2.top && r1Top <= r2.bottom || r1Bottom >= r2.top && r1Bottom <= r2.bottom || r1Bottom >= r2.bottom && r1Top <= r2.top;\n}\n/**\n * Simply removes all unwanted props in order to avoid react 'unkown prop' warning\n * @param  {Object} props     that should be sanitized\n * @param  {Object} toRemove  array of prop names to remove\n * @return {Object}           cloned and sanitized props\n */\n\n\nfunction sanitizeProps(props, toRemove) {\n  props = _extends({}, props);\n\n  for (var i = 0, l = toRemove.length; i < l; i += 1) {\n    delete props[toRemove[i]];\n  }\n\n  return props;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/kqngo/Coding/javascript/profiled/my-site/my-portofolio-v1/node_modules/react-sticky-el/lib/sticky.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactDom","_reactDom2","_events","_find","_find2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","stickyOwnProps","isEqual","obj1","obj2","styles1","styles","styles2","fixed","height","field","buildTopStyles","container","bottomOffset","hideOnBoundaryHit","top","width","boundaryBottom","position","bottom","buildBottomStyles","boundaryTop","buildStickyStyle","mode","Sticky","_Component","_this","getPrototypeOf","createWrapperRef","wrapper","wrapperEl","createHolderRef","holder","holderEl","checkPosition","boundaryElement","scrollElement","disabled","_this$props","onFixedToggle","state","setState","holderRect","getBoundingClientRect","wrapperRect","boundaryRect","getRect","Infinity","scrollRect","isFixed","newState","componentDidMount","me","findDOMNode","_props","noExceptionOnMissedScrollElement","positionRecheckInterval","window","document","listen","Error","checkPositionIntervalId","setInterval","componentWillReceiveProps","_ref","componentWillUnmount","unlisten","clearTimeout","_props2","topOffset","instersect","hideOffset","render","_state","stickyClassName","stickyStyle","holderCmp","wrapperCmp","holderProps","children","wrapperProps","sanitizeProps","wrapperStyle","transform","WebkitTransform","style","className","minHeight","ref","createElement","Component","propTypes","oneOf","func","object","string","bool","any","number","oneOfType","defaultProps","el","left","innerHeight","innerWidth","right","r1","r2","r1Top","r1Bottom","toRemove","l","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _events = require('./helpers/events');\n\nvar _find = require('./helpers/find');\n\nvar _find2 = _interopRequireDefault(_find);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar stickyOwnProps = ['mode', 'disabled', 'onFixedToggle', 'stickyStyle', 'stickyClassName', 'boundaryElement', 'scrollElement', 'bottomOffset', 'topOffset', 'positionRecheckInterval', 'noExceptionOnMissedScrollElement', 'wrapperCmp', 'holderCmp', 'hideOnBoundaryHit', 'holderProps'];\n\nvar isEqual = function isEqual(obj1, obj2) {\n  var styles1 = obj1.styles;\n  var styles2 = obj2.styles;\n\n  if (obj1.fixed !== obj2.fixed || obj1.height !== obj2.height || !styles1 && styles2 || styles1 && !styles2) {\n    return false;\n  }\n\n  for (var field in styles1) {\n    if (styles1.hasOwnProperty(field) && styles1[field] !== styles2[field]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar buildTopStyles = function buildTopStyles(container, props) {\n  var bottomOffset = props.bottomOffset,\n      hideOnBoundaryHit = props.hideOnBoundaryHit;\n  var top = container.top,\n      height = container.height,\n      width = container.width,\n      boundaryBottom = container.boundaryBottom;\n\n\n  if (hideOnBoundaryHit || top + height + bottomOffset < boundaryBottom) {\n    return { top: top, width: width, position: 'fixed' };\n  }\n\n  return { width: width, bottom: bottomOffset, position: 'absolute' };\n};\n\nvar buildBottomStyles = function buildBottomStyles(container, props) {\n  var bottomOffset = props.bottomOffset,\n      hideOnBoundaryHit = props.hideOnBoundaryHit;\n  var bottom = container.bottom,\n      height = container.height,\n      width = container.width,\n      boundaryTop = container.boundaryTop;\n\n\n  if (hideOnBoundaryHit || bottom - height - bottomOffset > boundaryTop) {\n    return { width: width, top: bottom - height, position: 'fixed' };\n  }\n\n  return { width: width, top: bottomOffset, position: 'absolute' };\n};\n\nvar buildStickyStyle = function buildStickyStyle(mode, props, container) {\n  return (mode === 'top' ? buildTopStyles : buildBottomStyles)(container, props);\n};\n\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky(props) {\n    _classCallCheck(this, Sticky);\n\n    var _this = _possibleConstructorReturn(this, (Sticky.__proto__ || Object.getPrototypeOf(Sticky)).call(this, props));\n\n    _this.createWrapperRef = function (wrapper) {\n      _this.wrapperEl = wrapper;\n    };\n\n    _this.createHolderRef = function (holder) {\n      _this.holderEl = holder;\n    };\n\n    _this.checkPosition = function () {\n      var holderEl = _this.holderEl,\n          wrapperEl = _this.wrapperEl,\n          boundaryElement = _this.boundaryElement,\n          scrollElement = _this.scrollElement,\n          disabled = _this.disabled;\n      var _this$props = _this.props,\n          mode = _this$props.mode,\n          onFixedToggle = _this$props.onFixedToggle;\n\n\n      if (disabled) {\n        if (_this.state.fixed) {\n          _this.setState({ fixed: false });\n        }\n        return;\n      }\n\n      var holderRect = holderEl.getBoundingClientRect();\n      var wrapperRect = wrapperEl.getBoundingClientRect();\n      var boundaryRect = boundaryElement ? getRect(boundaryElement) : { top: -Infinity, bottom: Infinity };\n      var scrollRect = getRect(scrollElement);\n      var fixed = _this.isFixed(holderRect, wrapperRect, boundaryRect, scrollRect);\n\n      var newState = {\n        fixed: fixed,\n        height: wrapperRect.height,\n        styles: fixed ? buildStickyStyle(mode, _this.props, {\n          boundaryTop: mode === 'bottom' ? boundaryRect.top : 0,\n          boundaryBottom: mode === 'top' ? boundaryRect.bottom : 0,\n          top: mode === 'top' ? scrollRect.top : 0,\n          bottom: mode === 'bottom' ? scrollRect.bottom : 0,\n          width: holderRect.width,\n          height: wrapperRect.height\n        }) : null\n      };\n\n      if (fixed !== _this.state.fixed && onFixedToggle && typeof onFixedToggle === 'function') {\n        onFixedToggle(_this.state.fixed);\n      }\n\n      if (!isEqual(_this.state, newState)) {\n        _this.setState(newState);\n      }\n    };\n\n    _this.disabled = props.disabled;\n    _this.state = {\n      height: 0,\n      fixed: false,\n      styles: null\n    };\n    return _this;\n  }\n\n  _createClass(Sticky, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var me = _reactDom2.default.findDOMNode(this);\n      var _props = this.props,\n          boundaryElement = _props.boundaryElement,\n          scrollElement = _props.scrollElement,\n          noExceptionOnMissedScrollElement = _props.noExceptionOnMissedScrollElement,\n          positionRecheckInterval = _props.positionRecheckInterval,\n          disabled = _props.disabled;\n\n\n      this.disabled = disabled;\n      this.boundaryElement = (0, _find2.default)(boundaryElement, me);\n      if (this.boundaryElement === window || this.boundaryElement === document) {\n        // such objects can't be used as boundary\n        // and in fact there is no point in such a case\n        this.boundaryElement = null;\n      }\n      this.scrollElement = scrollElement;\n      if (typeof scrollElement === 'string') {\n        this.scrollElement = (0, _find2.default)(scrollElement, me);\n      }\n\n      if (this.scrollElement) {\n        (0, _events.listen)(this.scrollElement, ['scroll'], this.checkPosition);\n      } else if (!noExceptionOnMissedScrollElement) {\n        throw new Error('Cannot find scrollElement ' + scrollElement);\n      }\n\n      (0, _events.listen)(window, ['scroll', 'resize', 'pageshow', 'load'], this.checkPosition);\n      this.checkPosition();\n\n      if (positionRecheckInterval) {\n        this.checkPositionIntervalId = setInterval(this.checkPosition, positionRecheckInterval);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var disabled = _ref.disabled;\n\n      if (this.disabled !== disabled) {\n        this.disabled = disabled;\n        this.checkPosition();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.scrollElement) {\n        (0, _events.unlisten)(this.scrollElement, ['scroll'], this.checkPosition);\n      }\n      (0, _events.unlisten)(window, ['scroll', 'resize', 'pageshow', 'load'], this.checkPosition);\n      this.boundaryElement = null;\n      this.scrollElement = null;\n      clearTimeout(this.checkPositionIntervalId);\n    }\n  }, {\n    key: 'isFixed',\n    value: function isFixed(holderRect, wrapperRect, boundaryRect, scrollRect) {\n      var _props2 = this.props,\n          hideOnBoundaryHit = _props2.hideOnBoundaryHit,\n          bottomOffset = _props2.bottomOffset,\n          topOffset = _props2.topOffset,\n          mode = _props2.mode;\n\n\n      if (this.disabled) {\n        return false;\n      }\n\n      if (boundaryRect && !instersect(boundaryRect, scrollRect, topOffset, bottomOffset)) {\n        return false;\n      }\n\n      var hideOffset = hideOnBoundaryHit ? wrapperRect.height + bottomOffset : 0;\n\n      if (mode === 'top') {\n        return holderRect.top + topOffset < scrollRect.top && scrollRect.top + hideOffset <= boundaryRect.bottom;\n      }\n\n      return holderRect.bottom - topOffset > scrollRect.bottom && scrollRect.bottom - hideOffset >= boundaryRect.top;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var _state = this.state,\n          fixed = _state.fixed,\n          height = _state.height;\n      var stickyClassName = props.stickyClassName,\n          stickyStyle = props.stickyStyle,\n          holderCmp = props.holderCmp,\n          wrapperCmp = props.wrapperCmp,\n          holderProps = props.holderProps,\n          children = props.children;\n\n      var wrapperProps = sanitizeProps(props, stickyOwnProps);\n      // To ensure that this component becomes sticky immediately on mobile devices instead\n      // of disappearing until the scroll event completes, we add `transform: translateZ(0)`\n      // to 'kick' rendering of this element to the GPU\n      // @see http://stackoverflow.com/questions/32875046\n      var wrapperStyle = { transform: 'translateZ(0)', WebkitTransform: 'translateZ(0)' };\n      if (wrapperProps.style) {\n        wrapperStyle = _extends({}, wrapperStyle, wrapperProps.style);\n      }\n\n      if (fixed) {\n        wrapperProps.className += ' ' + stickyClassName;\n        wrapperStyle = _extends({}, wrapperStyle, stickyStyle, this.state.styles);\n      }\n\n      holderProps.style = _extends({}, holderProps.style, { minHeight: height + 'px' });\n      holderProps.ref = this.createHolderRef;\n\n      wrapperProps.style = wrapperStyle;\n      wrapperProps.ref = this.createWrapperRef;\n      return _react2.default.createElement(holderCmp, holderProps, _react2.default.createElement(wrapperCmp, wrapperProps, children));\n    }\n  }]);\n\n  return Sticky;\n}(_react.Component);\n\n// some helpers\n\nSticky.propTypes = {\n  mode: _propTypes2.default.oneOf(['top', 'bottom']),\n  onFixedToggle: _propTypes2.default.func,\n  stickyStyle: _propTypes2.default.object,\n  stickyClassName: _propTypes2.default.string,\n  hideOnBoundaryHit: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  boundaryElement: _propTypes2.default.string,\n  scrollElement: _propTypes2.default.any,\n  bottomOffset: _propTypes2.default.number,\n  topOffset: _propTypes2.default.number,\n  positionRecheckInterval: _propTypes2.default.number,\n  noExceptionOnMissedScrollElement: _propTypes2.default.bool,\n  wrapperCmp: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  holderCmp: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  holderProps: _propTypes2.default.object\n};\nSticky.defaultProps = {\n  className: '',\n  style: {},\n  mode: 'top',\n  holderCmp: 'div',\n  holderProps: {},\n  wrapperCmp: 'div',\n  stickyClassName: 'sticky',\n  stickyStyle: null,\n  hideOnBoundaryHit: true,\n  disabled: false,\n  boundaryElement: null,\n  scrollElement: 'window',\n  topOffset: 0,\n  bottomOffset: 0,\n  noExceptionOnMissedScrollElement: false,\n  positionRecheckInterval: 0\n};\nexports.default = Sticky;\nfunction getRect(el) {\n  if (el && typeof el.getBoundingClientRect === 'function') {\n    return el.getBoundingClientRect();\n  }\n\n  if (el === window || el === document) {\n    return { top: 0, left: 0, bottom: window.innerHeight, height: window.innerHeight, width: window.innerWidth, right: window.innerWidth };\n  }\n\n  return { top: 0, left: 0, right: 0, bottom: 0, width: 0, height: 0 };\n}\n\nfunction instersect(r1, r2, topOffset, bottomOffset) {\n  var r1Top = r1.top + topOffset,\n      r1Bottom = r1.bottom + bottomOffset;\n\n  return r1Top >= r2.top && r1Top <= r2.bottom || r1Bottom >= r2.top && r1Bottom <= r2.bottom || r1Bottom >= r2.bottom && r1Top <= r2.top;\n}\n\n/**\n * Simply removes all unwanted props in order to avoid react 'unkown prop' warning\n * @param  {Object} props     that should be sanitized\n * @param  {Object} toRemove  array of prop names to remove\n * @return {Object}           cloned and sanitized props\n */\nfunction sanitizeProps(props, toRemove) {\n  props = _extends({}, props);\n  for (var i = 0, l = toRemove.length; i < l; i += 1) {\n    delete props[toRemove[i]];\n  }\n  return props;\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}